<div class="dashboard-container">
  <app-breadcrumb [items]="breadcrumbItems" separator=">" [showHome]="true"></app-breadcrumb>

  <div class="dashboard-header">
    <h1>Dashboard</h1>
    <div class="header-actions">
      <app-theme-toggle></app-theme-toggle>
      <app-button variant="outline" (click)="openModalViaService()">Open Modal</app-button>
      <app-button variant="secondary" (click)="logout()">Logout</app-button>
    </div>
  </div>

  <div class="dashboard-content">
    <div class="stats-grid">
      <app-card title="Total Users" [hoverable]="true">
        <div class="stat-value">1,234</div>
        <div class="stat-label">Active Users</div>
      </app-card>

      <app-card title="Revenue" [hoverable]="true">
        <div class="stat-value">$45,231</div>
        <div class="stat-label">This Month</div>
      </app-card>

      <app-card title="Orders" [hoverable]="true">
        <div class="stat-value">892</div>
        <div class="stat-label">Pending Orders</div>
      </app-card>

      <app-card title="Performance" [hoverable]="true">
        <div class="stat-value">98.5%</div>
        <div class="stat-label">Uptime</div>
      </app-card>
    </div>

    <div class="welcome-section">
      <app-card title="Welcome to Enterprise App">
        <p>This is an enterprise-ready Angular application with best practices.</p>
        <ul>
          <li>Modular architecture with feature modules</li>
          <li>State management with NgRx</li>
          <li>Authentication and authorization</li>
          <li>Comprehensive testing setup</li>
          <li>CI/CD pipeline ready</li>
        </ul>
      </app-card>
    </div>

    <div class="users-section">
      <app-card title="Users Management">
        <app-table [columns]="columns" [data]="users" [config]="{
            pageSize: 5,
            pageSizeOptions: [5, 10, 20],
            showPagination: true,
            showSearch: true,
            striped: true,
            hoverable: true,
          }" (rowClick)="onRowClick($event)"></app-table>
      </app-card>
    </div>

    <div class="form-section">
      <app-card title="Form Components Demo">
        <form class="demo-form">
          <div class="form-row">
            <app-input label="Full Name" placeholder="Enter your name" [required]="true" icon="ðŸ‘¤"
              hint="Enter your first and last name" [(ngModel)]="formName" name="name"></app-input>
          </div>

          <div class="form-row">
            <app-input label="Email Address" type="email" placeholder="you@example.com" [required]="true" icon="ðŸ“§"
              [(ngModel)]="formEmail" name="email"></app-input>
          </div>

          <div class="form-row">
            <app-input label="Password" type="password" placeholder="Enter password" [required]="true" icon="ðŸ”’"
              hint="Must be at least 8 characters" [(ngModel)]="formPassword" name="password"></app-input>
          </div>

          <div class="form-row">
            <app-select label="Country" placeholder="Select your country" [options]="countryOptions" [searchable]="true"
              [required]="true" hint="Choose from the list" [(ngModel)]="formCountry" name="country"></app-select>
          </div>

          <div class="form-row">
            <app-select label="Skills" placeholder="Select your skills" [options]="skillOptions" [searchable]="true"
              [multiple]="true" hint="You can select multiple skills" [(ngModel)]="formSkills"
              name="skills"></app-select>
          </div>

          <div class="form-row">
            <app-checkbox label="Subscribe to newsletter" hint="Receive updates about new features"
              [(ngModel)]="formNewsletter" name="newsletter"></app-checkbox>
          </div>

          <div class="form-row">
            <app-checkbox label="Enable push notifications" [(ngModel)]="formNotifications"
              name="notifications"></app-checkbox>
          </div>

          <div class="form-row">
            <app-radio label="Choose a Plan" [options]="planOptions" [required]="true" [(ngModel)]="formPlan"
              name="plan"></app-radio>
          </div>

          <div class="form-actions">
            <app-button variant="outline" (click)="resetForm()" type="button">Reset</app-button>
            <app-button variant="primary" (click)="submitForm()" type="button">Submit</app-button>
          </div>
        </form>
      </app-card>
    </div>
  </div>
</div>

<!-- User Details Modal -->
<app-modal [title]="'User Details'" [size]="'md'" [isOpen]="showModal" (closeEvent)="closeModal()"
  *ngIf="showModal && selectedUser">
  <div class="modal-content">
    <div class="user-detail">
      <label>ID:</label>
      <span>{{ selectedUser.id }}</span>
    </div>
    <div class="user-detail">
      <label>Name:</label>
      <span>{{ selectedUser.name }}</span>
    </div>
    <div class="user-detail">
      <label>Email:</label>
      <span>{{ selectedUser.email }}</span>
    </div>
    <div class="user-detail">
      <label>Role:</label>
      <span>{{ selectedUser.role }}</span>
    </div>
    <div class="user-detail">
      <label>Status:</label>
      <span [class]="selectedUser.status ? 'status-active' : 'status-inactive'">
        {{ selectedUser.status ? 'Active' : 'Inactive' }}
      </span>
    </div>
    <div class="user-detail">
      <label>Created:</label>
      <span>{{ selectedUser.createdAt }}</span>
    </div>
  </div>

  <div footer>
    <app-button variant="outline" (click)="closeModal()">Cancel</app-button>
    <app-button variant="primary" (click)="deleteUser()">Delete User</app-button>
  </div>
</app-modal>